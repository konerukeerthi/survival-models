---
title: "survival lecture 6"
author: "Steve Simon"
date: "April 8, 2018"
output: html_document
---

Lecture 6. Parametric models. Parametric models provide an alternative analysis to the Cox proportional hazards model. You'll compare the hazard function for various popular survival distributions and understand the advantages and disadvantages of a parametric approach to survival. You'll fit parametric models and interpret the coefficients.

This file does not need any special libraries other than the ones listed below. Many of the data sets in this program use data from Hosmer, Lemeshow, and May. I made one minor change, however, which was to force all the variable names to lower case.

```{r load-libraries}
library(broom)
library(dplyr)
library(ggplot2)
library(magrittr)
library(survival)
library(tidyr)
```

## Exponential model

The exponential model is the simplest parametric model and is illustrated using the whas100 data set on page 250 of Hosmer, Lemeshow, and May.

```{r read-whas100}
fn <- "~/survival-models/data/wiley/whas100.dat" 
whas100 <- read.table(fn, header = FALSE) 
names(whas100) <- 
  c("id", "admitdate", "foldate",
    "los", "lenfol", "fstat",
    "age", "gender", "bmi")
whas100$time_yrs <- whas100$lenfol / 365.25
head(whas100)
whas100_surv <- Surv(whas100$time_yrs, whas100$fstat)
```

## Weibull model

The WHAS100 data is also used to describe the Weibull regression model and an example of the model appears on page 264 of Hosmer, Lemeshow, and May.

## Log-logistic model

The WHAS100 data is used yet again to describe the log-logistic model and an example of the model appears on page 277 of Hosmer, Lemeshow, and May.

Save everything for possible later re-use.

```{r save-everything}
save.image("~/survival-models/bin/survival-lecture-6.RData")
```