---
title: "homework answers 5"
author: "Steve Simon"
date: "May 27, 2018"
output: html_document
---

This file does not need any special libraries other than the ones listed below. Many of the data sets in this program use data from Hosmer, Lemeshow, and May. I made one minor change, however, which was to force all the variable names to lower case.

```{r load-libraries}
library(broom)
library(dplyr)
library(ggplot2)
library(magrittr)
library(survival)
library(tidyr)
```

1. Open the WHAS500 data set in the software program of 
your choice.

a. Calculate and graph on the same graph an overall Kaplan-Meier survival curve, a survival curve for an exponential model with no independent variables, and a survival curve for a Weibull model with no independent variables. Does there appear to be a difference between the exponential model and the Weibull model? Does either model match the Kaplan-Meier curve?

b. Calculate a Weibull regression model with bmi, age, gender, and a age by gender interaction. Estimate the impact of a 5 unit change in BMI on the survival percentiles, holding all of the other variables constant.

c. Calculate a confidence interval for the scale parameter of the Weibull model. Interpret this interval.

Save everything for possible later re-use.

```{r save-everything}
save.image("~/survival-models/bin/homework-answers-5.RData")
```